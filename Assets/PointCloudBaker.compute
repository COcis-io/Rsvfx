#pragma kernel PointCloudBaker

Buffer<float> Input;
RWTexture2D<float4> Output;

[numthreads(256, 1, 1)]
void PointCloudBaker(uint3 id : SV_DispatchThreadID)
{
    int index = (id.x + id.y * 256) * 3;
    float3 p = float3(Input[index + 0], Input[index + 1], Input[index + 2]);
    if (p.z < 0.1 || p.z > 1) p = 1000;
    Output[id.xy] = float4(p, 1);
}
